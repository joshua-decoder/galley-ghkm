<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_27) on Thu Jan 03 11:06:34 PST 2013 -->
<TITLE>
SplittingGrammarExtractor (Stanford JavaNLP API Documentation)
</TITLE>

<META NAME="date" CONTENT="2013-01-03">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SplittingGrammarExtractor (Stanford JavaNLP API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SisterAnnotationStats.html" title="class in edu.stanford.nlp.parser.lexparser"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../edu/stanford/nlp/parser/lexparser/TagProjection.html" title="interface in edu.stanford.nlp.parser.lexparser"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SplittingGrammarExtractor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.stanford.nlp.parser.lexparser</FONT>
<BR>
Class SplittingGrammarExtractor</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>edu.stanford.nlp.parser.lexparser.SplittingGrammarExtractor</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>SplittingGrammarExtractor</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
This class is a reimplementation of Berkeley's state splitting
 grammar.  This work is experimental and still in progress.  There
 are several extremely important pieces to implement:
 <ol>
 <li> this code should use log probabilities throughout instead of 
      multiplying tiny numbers
 <li> time efficiency of the training code is fawful
 <li> states should be recombined by a user-specified fraction
 <li> there are better ways to extract parses using this grammar than
      the method in ExhaustivePCFGParser
 <li> we should also implement cascading parsers that let us
      shortcircuit low quality parses earlier (which could possibly
      benefit non-split parsers as well)
 <li> when looping, we should short circuit if we go too many loops
 <li> ought to smooth as per page 436
 <li> the end symbol should not be split
 </ol>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>John Bauer</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#SplittingGrammarExtractor(edu.stanford.nlp.parser.lexparser.Options)">SplittingGrammarExtractor</A></B>(<A HREF="../../../../../edu/stanford/nlp/parser/lexparser/Options.html" title="class in edu.stanford.nlp.parser.lexparser">Options</A>&nbsp;op)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#buildGrammars()">buildGrammars</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#buildStateIndex()">buildStateIndex</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#countMergeEffects(edu.stanford.nlp.trees.Tree, java.util.Map, java.util.Map)">countMergeEffects</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                  java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;totalStateMass,
                  java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;deltaAnnotations)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#countMergeEffects(edu.stanford.nlp.trees.Tree, java.util.Map, java.util.Map, java.util.IdentityHashMap, java.util.IdentityHashMap)">countMergeEffects</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                  java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;totalStateMass,
                  java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;deltaAnnotations,
                  java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
                  java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#countOriginalStates()">countOriginalStates</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Count all the internal labels in all the trees, and set their
 initial state counts to 1.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#extract(java.util.Collection)">extract</A></B>(java.util.Collection&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&gt;&nbsp;treeList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#extract(java.util.Collection, double, java.util.Collection, double)">extract</A></B>(java.util.Collection&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&gt;&nbsp;trees1,
        double&nbsp;weight1,
        java.util.Collection&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&gt;&nbsp;trees2,
        double&nbsp;weight2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;First, we do a few setup steps.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#getStateSplitCount(java.lang.String)">getStateSplitCount</A></B>(java.lang.String&nbsp;label)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#getStateSplitCount(edu.stanford.nlp.trees.Tree)">getStateSplitCount</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#mergeStates()">mergeStates</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#mergeTransitions(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, double[], java.util.Map)">mergeTransitions</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;parent,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;oldUnaryTransitions,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;oldBinaryTransitions,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;newUnaryTransitions,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;newBinaryTransitions,
                 double[]&nbsp;stateWeights,
                 java.util.Map&lt;java.lang.String,int[]&gt;&nbsp;mergeCorrespondence)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a tree and the original set of transition probabilities
 from one state to the next in the tree, along with a list of the
 weights in the tree and a count of the mass in each substate at
 the current node, this method merges the probabilities as
 necessary.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#outputBetas()">outputBetas</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recalculateBetas(boolean)">recalculateBetas</A></B>(boolean&nbsp;splitStates)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recalculates the betas for all known transitions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recalculateMergedBetas(java.util.Map)">recalculateMergedBetas</A></B>(java.util.Map&lt;java.lang.String,int[]&gt;&nbsp;mergeCorrespondence)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recalculateTemporaryBetas(boolean, java.util.Map, edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)">recalculateTemporaryBetas</A></B>(boolean&nbsp;splitStates,
                          java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;totalStateMass,
                          <A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                          <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates temporary beta data structures and fills them in by
 iterating over the trees.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recalculateTemporaryBetas(edu.stanford.nlp.trees.Tree, boolean, java.util.Map, edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)">recalculateTemporaryBetas</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                          boolean&nbsp;splitStates,
                          java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;totalStateMass,
                          <A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                          <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recalculateTemporaryBetas(edu.stanford.nlp.trees.Tree, double[], int, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.Map, edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)">recalculateTemporaryBetas</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                          double[]&nbsp;stateWeights,
                          int&nbsp;position,
                          java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;unaryTransitions,
                          java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;binaryTransitions,
                          java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;totalStateMass,
                          <A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                          <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recountInside(edu.stanford.nlp.trees.Tree, int, java.util.IdentityHashMap)">recountInside</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
              int&nbsp;loc,
              java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recountOutside(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap)">recountOutside</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recountOutside(edu.stanford.nlp.trees.Tree, edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap)">recountOutside</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;child,
               <A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;parent,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recountOutside(edu.stanford.nlp.trees.Tree, edu.stanford.nlp.trees.Tree, edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap)">recountOutside</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;left,
               <A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;right,
               <A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;parent,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recountTree(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap)">recountTree</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
            java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;unaryTransitions,
            java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;binaryTransitions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recountTree(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap)">recountTree</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
            java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
            java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut,
            java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;unaryTransitions,
            java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;binaryTransitions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recountWeights(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap)">recountWeights</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;unaryTransitions,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;binaryTransitions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#recurseOutside(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap)">recurseOutside</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
               java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#rescaleTemporaryBetas(edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)">rescaleTemporaryBetas</A></B>(<A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                      <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#saveTrees(java.util.Collection, double, java.util.Collection, double)">saveTrees</A></B>(java.util.Collection&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&gt;&nbsp;trees1,
          double&nbsp;weight1,
          java.util.Collection&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&gt;&nbsp;trees2,
          double&nbsp;weight2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#splitTransitions(edu.stanford.nlp.trees.Tree, boolean, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap)">splitTransitions</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                 boolean&nbsp;splitParent,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;oldUnaryTransitions,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;oldBinaryTransitions,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;newUnaryTransitions,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;newBinaryTransitions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a tree and a map from subtree to its transitions, this
 method splits each of the transitions in two.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#splitTransitions(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap)">splitTransitions</A></B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;oldUnaryTransitions,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;oldBinaryTransitions,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;newUnaryTransitions,
                 java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;newBinaryTransitions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a tree and a map from subtree to its transitions, this
 method splits each of the transitions in two.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#state(java.lang.String, int)">state</A></B>(java.lang.String&nbsp;tag,
      int&nbsp;i)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#testConvergence(edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)">testConvergence</A></B>(<A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html#useNewBetas(boolean, edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)">useNewBetas</A></B>(boolean&nbsp;testConverged,
            <A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
            <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SplittingGrammarExtractor(edu.stanford.nlp.parser.lexparser.Options)"><!-- --></A><H3>
SplittingGrammarExtractor</H3>
<PRE>
public <B>SplittingGrammarExtractor</B>(<A HREF="../../../../../edu/stanford/nlp/parser/lexparser/Options.html" title="class in edu.stanford.nlp.parser.lexparser">Options</A>&nbsp;op)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="outputBetas()"><!-- --></A><H3>
outputBetas</H3>
<PRE>
public void <B>outputBetas</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="state(java.lang.String, int)"><!-- --></A><H3>
state</H3>
<PRE>
public java.lang.String <B>state</B>(java.lang.String&nbsp;tag,
                              int&nbsp;i)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getStateSplitCount(edu.stanford.nlp.trees.Tree)"><!-- --></A><H3>
getStateSplitCount</H3>
<PRE>
public int <B>getStateSplitCount</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getStateSplitCount(java.lang.String)"><!-- --></A><H3>
getStateSplitCount</H3>
<PRE>
public int <B>getStateSplitCount</B>(java.lang.String&nbsp;label)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="countOriginalStates()"><!-- --></A><H3>
countOriginalStates</H3>
<PRE>
public void <B>countOriginalStates</B>()</PRE>
<DL>
<DD>Count all the internal labels in all the trees, and set their
 initial state counts to 1.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="splitTransitions(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap)"><!-- --></A><H3>
splitTransitions</H3>
<PRE>
public void <B>splitTransitions</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;oldUnaryTransitions,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;oldBinaryTransitions,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;newUnaryTransitions,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;newBinaryTransitions)</PRE>
<DL>
<DD>Given a tree and a map from subtree to its transitions, this
 method splits each of the transitions in two.  This is called to
 get the transition probabilities for trees on the first iteration
 of a new split state.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="splitTransitions(edu.stanford.nlp.trees.Tree, boolean, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap)"><!-- --></A><H3>
splitTransitions</H3>
<PRE>
public void <B>splitTransitions</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                             boolean&nbsp;splitParent,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;oldUnaryTransitions,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;oldBinaryTransitions,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;newUnaryTransitions,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;newBinaryTransitions)</PRE>
<DL>
<DD>Given a tree and a map from subtree to its transitions, this
 method splits each of the transitions in two.  This is called to
 get the transition probabilities for trees on the first iteration
 of a new split state.
 <br>
 The splitParent parameter controls whether or not to treat the
 parent as a state that needs to be split.  This is only false for
 the root node, which should be a root production that does not
 need to be split.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recalculateBetas(boolean)"><!-- --></A><H3>
recalculateBetas</H3>
<PRE>
public boolean <B>recalculateBetas</B>(boolean&nbsp;splitStates)</PRE>
<DL>
<DD>Recalculates the betas for all known transitions.  The current
 betas are used to produce probabilities, which then are used to
 compute new betas.  If splitStates is true, then the
 probabilities produced are as if the states were split again from
 the last time betas were calculated.
 <br>
 The return value is whether or not the betas have mostly
 converged from the last time this method was called.  Obviously
 if splitStates was true, the betas will be entirely different, so
 this is false.  Otherwise, the new betas are compared against the
 old values, and convergence means they differ by less than
 EPSILON.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="useNewBetas(boolean, edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)"><!-- --></A><H3>
useNewBetas</H3>
<PRE>
public boolean <B>useNewBetas</B>(boolean&nbsp;testConverged,
                           <A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                           <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recalculateTemporaryBetas(boolean, java.util.Map, edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)"><!-- --></A><H3>
recalculateTemporaryBetas</H3>
<PRE>
public void <B>recalculateTemporaryBetas</B>(boolean&nbsp;splitStates,
                                      java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;totalStateMass,
                                      <A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                                      <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</PRE>
<DL>
<DD>Creates temporary beta data structures and fills them in by
 iterating over the trees.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testConvergence(edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)"><!-- --></A><H3>
testConvergence</H3>
<PRE>
public boolean <B>testConvergence</B>(<A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                               <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recalculateTemporaryBetas(edu.stanford.nlp.trees.Tree, boolean, java.util.Map, edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)"><!-- --></A><H3>
recalculateTemporaryBetas</H3>
<PRE>
public void <B>recalculateTemporaryBetas</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                                      boolean&nbsp;splitStates,
                                      java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;totalStateMass,
                                      <A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                                      <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recalculateTemporaryBetas(edu.stanford.nlp.trees.Tree, double[], int, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.Map, edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)"><!-- --></A><H3>
recalculateTemporaryBetas</H3>
<PRE>
public int <B>recalculateTemporaryBetas</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                                     double[]&nbsp;stateWeights,
                                     int&nbsp;position,
                                     java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;unaryTransitions,
                                     java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;binaryTransitions,
                                     java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;totalStateMass,
                                     <A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                                     <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="rescaleTemporaryBetas(edu.stanford.nlp.util.TwoDimensionalMap, edu.stanford.nlp.util.ThreeDimensionalMap)"><!-- --></A><H3>
rescaleTemporaryBetas</H3>
<PRE>
public void <B>rescaleTemporaryBetas</B>(<A HREF="../../../../../edu/stanford/nlp/util/TwoDimensionalMap.html" title="class in edu.stanford.nlp.util">TwoDimensionalMap</A>&lt;java.lang.String,java.lang.String,double[][]&gt;&nbsp;tempUnaryBetas,
                                  <A HREF="../../../../../edu/stanford/nlp/util/ThreeDimensionalMap.html" title="class in edu.stanford.nlp.util">ThreeDimensionalMap</A>&lt;java.lang.String,java.lang.String,java.lang.String,double[][][]&gt;&nbsp;tempBinaryBetas)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recountTree(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap)"><!-- --></A><H3>
recountTree</H3>
<PRE>
public void <B>recountTree</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                        java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;unaryTransitions,
                        java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;binaryTransitions)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recountTree(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap)"><!-- --></A><H3>
recountTree</H3>
<PRE>
public void <B>recountTree</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                        java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
                        java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut,
                        java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;unaryTransitions,
                        java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;binaryTransitions)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recountWeights(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap)"><!-- --></A><H3>
recountWeights</H3>
<PRE>
public void <B>recountWeights</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;unaryTransitions,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;binaryTransitions)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recountOutside(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap)"><!-- --></A><H3>
recountOutside</H3>
<PRE>
public void <B>recountOutside</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recurseOutside(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap)"><!-- --></A><H3>
recurseOutside</H3>
<PRE>
public void <B>recurseOutside</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recountOutside(edu.stanford.nlp.trees.Tree, edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap)"><!-- --></A><H3>
recountOutside</H3>
<PRE>
public void <B>recountOutside</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;child,
                           <A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;parent,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recountOutside(edu.stanford.nlp.trees.Tree, edu.stanford.nlp.trees.Tree, edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap)"><!-- --></A><H3>
recountOutside</H3>
<PRE>
public void <B>recountOutside</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;left,
                           <A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;right,
                           <A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;parent,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
                           java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recountInside(edu.stanford.nlp.trees.Tree, int, java.util.IdentityHashMap)"><!-- --></A><H3>
recountInside</H3>
<PRE>
public int <B>recountInside</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                         int&nbsp;loc,
                         java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="mergeStates()"><!-- --></A><H3>
mergeStates</H3>
<PRE>
public void <B>mergeStates</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="recalculateMergedBetas(java.util.Map)"><!-- --></A><H3>
recalculateMergedBetas</H3>
<PRE>
public void <B>recalculateMergedBetas</B>(java.util.Map&lt;java.lang.String,int[]&gt;&nbsp;mergeCorrespondence)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="mergeTransitions(edu.stanford.nlp.trees.Tree, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, java.util.IdentityHashMap, double[], java.util.Map)"><!-- --></A><H3>
mergeTransitions</H3>
<PRE>
public void <B>mergeTransitions</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;parent,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;oldUnaryTransitions,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;oldBinaryTransitions,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][]&gt;&nbsp;newUnaryTransitions,
                             java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[][][]&gt;&nbsp;newBinaryTransitions,
                             double[]&nbsp;stateWeights,
                             java.util.Map&lt;java.lang.String,int[]&gt;&nbsp;mergeCorrespondence)</PRE>
<DL>
<DD>Given a tree and the original set of transition probabilities
 from one state to the next in the tree, along with a list of the
 weights in the tree and a count of the mass in each substate at
 the current node, this method merges the probabilities as
 necessary.  The results go into newUnaryTransitions and
 newBinaryTransitions.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="countMergeEffects(edu.stanford.nlp.trees.Tree, java.util.Map, java.util.Map)"><!-- --></A><H3>
countMergeEffects</H3>
<PRE>
public void <B>countMergeEffects</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                              java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;totalStateMass,
                              java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;deltaAnnotations)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="countMergeEffects(edu.stanford.nlp.trees.Tree, java.util.Map, java.util.Map, java.util.IdentityHashMap, java.util.IdentityHashMap)"><!-- --></A><H3>
countMergeEffects</H3>
<PRE>
public void <B>countMergeEffects</B>(<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&nbsp;tree,
                              java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;totalStateMass,
                              java.util.Map&lt;java.lang.String,double[]&gt;&nbsp;deltaAnnotations,
                              java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probIn,
                              java.util.IdentityHashMap&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>,double[]&gt;&nbsp;probOut)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="buildStateIndex()"><!-- --></A><H3>
buildStateIndex</H3>
<PRE>
public void <B>buildStateIndex</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="buildGrammars()"><!-- --></A><H3>
buildGrammars</H3>
<PRE>
public void <B>buildGrammars</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="saveTrees(java.util.Collection, double, java.util.Collection, double)"><!-- --></A><H3>
saveTrees</H3>
<PRE>
public void <B>saveTrees</B>(java.util.Collection&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&gt;&nbsp;trees1,
                      double&nbsp;weight1,
                      java.util.Collection&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&gt;&nbsp;trees2,
                      double&nbsp;weight2)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="extract(java.util.Collection)"><!-- --></A><H3>
extract</H3>
<PRE>
public void <B>extract</B>(java.util.Collection&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&gt;&nbsp;treeList)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="extract(java.util.Collection, double, java.util.Collection, double)"><!-- --></A><H3>
extract</H3>
<PRE>
public void <B>extract</B>(java.util.Collection&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&gt;&nbsp;trees1,
                    double&nbsp;weight1,
                    java.util.Collection&lt;<A HREF="../../../../../edu/stanford/nlp/trees/Tree.html" title="class in edu.stanford.nlp.trees">Tree</A>&gt;&nbsp;trees2,
                    double&nbsp;weight2)</PRE>
<DL>
<DD>First, we do a few setup steps.  We read in all the trees, which
 is necessary because we continually reprocess them and use the
 object pointers as hash keys rather than hashing the trees
 themselves.  We then count the initial states in the treebank.
 <br>
 Having done that, we then assign initial probabilities to the
 trees.  At first, each state has 1.0 of the probability mass for
 each Ax-ByCz and Ax-By transition.  We then split the number of
 states and the probabilities on each tree.
 <br>
 We then repeatedly recalculate the betas and reannotate the
 weights, going until we converge, which is defined as no betas
 move more then epsilon.

 java -mx4g edu.stanford.nlp.parser.lexparser.LexicalizedParser  -PCFG -saveToSerializedFile englishSplit.ser.gz -saveToTextFile englishSplit.txt -maxLength 40 -train ../data/wsj/wsjtwentytrees.mrg    -testTreebank ../data/wsj/wsjtwentytrees.mrg   -evals "factDA,tsv" -uwm 0  -hMarkov 0 -vMarkov 0 -simpleBinarizedLabels -predictSplits -splitTrainingThreads 1 -splitCount 1 -splitRecombineRate 0.5
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../edu/stanford/nlp/parser/lexparser/SisterAnnotationStats.html" title="class in edu.stanford.nlp.parser.lexparser"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../edu/stanford/nlp/parser/lexparser/TagProjection.html" title="interface in edu.stanford.nlp.parser.lexparser"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?edu/stanford/nlp/parser/lexparser/SplittingGrammarExtractor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SplittingGrammarExtractor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<FONT SIZE=2><A HREF="http://nlp.stanford.edu">Stanford NLP Group</A></FONT>
</BODY>
</HTML>
